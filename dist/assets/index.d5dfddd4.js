var D=Object.defineProperty;var S=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var j=(e,o,s)=>o in e?D(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,q=(e,o)=>{for(var s in o||(o={}))N.call(o,s)&&j(e,s,o[s]);if(S)for(var s of S(o))B.call(o,s)&&j(e,s,o[s]);return e};var R=(e,o)=>{var s={};for(var r in e)N.call(e,r)&&o.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&S)for(var r of S(e))o.indexOf(r)<0&&B.call(e,r)&&(s[r]=e[r]);return s};import{d as C,O as U,Q as E,e as l,o as f,g as h,L as n,f as a,w as c,F as J,h as T,u,c as X,t as d,Z,r as G,_ as H,$ as K,i as I,R as W,a0 as Y,a1 as ee}from"./vendor.e6e9099f.js";import{F as oe}from"./index.288ad9ed.js";import{_ as F,u as se,a as ae}from"./index.525cc014.js";import{u as te}from"./loading.3e447ed2.js";var ne="/assets/login-banner.426fb77f.png";const re={class:"banner"},le={class:"banner-inner"},ce={class:"carousel-title"},ie={class:"carousel-sub-title"},de=["src"],ue=C({setup(e){const{t:o}=U(),s=E(()=>[{slogan:o("login.banner.slogan1"),subSlogan:o("login.banner.subSlogan1"),image:ne}]);return(r,L)=>{const b=l("a-carousel-item"),x=l("a-carousel");return f(),h("div",re,[n("div",le,[a(x,{class:"carousel","animation-name":"fade"},{default:c(()=>[(f(!0),h(J,null,T(u(s),_=>(f(),X(b,{key:_.slogan},{default:c(()=>[(f(),h("div",{key:_.slogan,class:"carousel-item"},[n("div",ce,d(_.slogan),1),n("div",ie,d(_.subSlogan),1),n("img",{class:"carousel-image",src:_.image},null,8,de)]))]),_:2},1024))),128))]),_:1})])])}}});var _e=F(ue,[["__scopeId","data-v-3da42316"]]);const me={class:"login-form-wrapper"},pe={class:"login-form-title"},ge={class:"login-form-sub-title"},fe={class:"login-form-error-msg"},ve={class:"login-form-password-actions"},he=C({setup(e){const o=Z(),{t:s}=U(),r=G(""),{loading:L,setLoading:b}=te(),x=se(),_=ae(),i=H("login-config",{rememberPassword:!0,username:"admin",password:"123456",captchaId:"8dUax8dNMvXsOy8VOJss",captcha:"12435"}),v=K({username:i.value.username,password:i.value.password,captchaId:i.value.captchaId,captcha:i.value.captcha}),O=async({errors:t,values:m})=>{if(!t){b(!0);try{await x.login(m),await _.fetchServerMenuConfig();const w=o.currentRoute.value.query,{redirect:p}=w,y=R(w,["redirect"]);o.push({name:p||"MenuManagement",query:q({},y)}),W.success(s("login.form.login.success"));const{rememberPassword:g}=i.value,{username:k,password:V,captchaId:M,captcha:$}=m;i.value.username=g?k:"",i.value.password=g?V:"",i.value.captchaId=g?M:"",i.value.captcha=g?$:""}catch(p){console.log(p),r.value=p.message}finally{b(!1)}}},Q=t=>{i.value.rememberPassword=t};return(t,m)=>{const w=l("icon-user"),p=l("a-input"),y=l("a-form-item"),g=l("icon-lock"),k=l("a-input-password"),V=l("a-checkbox"),M=l("a-link"),$=l("a-button"),z=l("a-space"),A=l("a-form");return f(),h("div",me,[n("div",pe,d(t.$t("login.form.title")),1),n("div",ge,d(t.$t("login.form.title")),1),n("div",fe,d(r.value),1),a(A,{ref:"loginForm",model:u(v),class:"login-form",layout:"vertical",onSubmit:O},{default:c(()=>[a(y,{field:"username",rules:[{required:!0,message:t.$t("login.form.userName.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:c(()=>[a(p,{modelValue:u(v).username,"onUpdate:modelValue":m[0]||(m[0]=P=>u(v).username=P),placeholder:t.$t("login.form.userName.placeholder")},{prefix:c(()=>[a(w)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),a(y,{field:"password",rules:[{required:!0,message:t.$t("login.form.password.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:c(()=>[a(k,{modelValue:u(v).password,"onUpdate:modelValue":m[1]||(m[1]=P=>u(v).password=P),placeholder:t.$t("login.form.password.placeholder"),"allow-clear":""},{prefix:c(()=>[a(g)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),a(z,{size:16,direction:"vertical"},{default:c(()=>[n("div",ve,[a(V,{checked:"rememberPassword","model-value":u(i).rememberPassword,onChange:Q},{default:c(()=>[I(d(t.$t("login.form.rememberPassword")),1)]),_:1},8,["model-value","onChange"]),a(M,null,{default:c(()=>[I(d(t.$t("login.form.forgetPassword")),1)]),_:1})]),a($,{type:"primary","html-type":"submit",long:"",loading:u(L)},{default:c(()=>[I(d(t.$t("login.form.login")),1)]),_:1},8,["loading"]),a($,{type:"text",long:"",class:"login-form-register-btn"},{default:c(()=>[I(d(t.$t("login.form.register")),1)]),_:1})]),_:1})]),_:1},8,["model"])])}}});var be=F(he,[["__scopeId","data-v-44fb0971"]]);const we=e=>(Y("data-v-37dfd6fc"),e=e(),ee(),e),ye={class:"container"},$e=we(()=>n("div",{class:"logo"},[n("img",{alt:"logo",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/dfdba5317c0c20ce20e64fac803d52bc.svg~tplv-49unhts6dw-image.image"}),n("div",{class:"logo-text"},"Mili SaaS")],-1)),Se={class:"content"},Ie={class:"content-inner"},xe={class:"footer"},ke=C({setup(e){return(o,s)=>(f(),h("div",ye,[$e,a(_e),n("div",Se,[n("div",Ie,[a(be)]),n("div",xe,[a(oe)])])]))}});var Le=F(ke,[["__scopeId","data-v-37dfd6fc"]]);export{Le as default};
