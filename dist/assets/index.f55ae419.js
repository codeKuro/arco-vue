var de=Object.defineProperty,pe=Object.defineProperties;var ce=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var D=(i,o,s)=>o in i?de(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,$=(i,o)=>{for(var s in o||(o={}))fe.call(o,s)&&D(i,s,o[s]);if(z)for(var s of z(o))ge.call(o,s)&&D(i,s,o[s]);return i},S=(i,o)=>pe(i,ce(o));import{_ as _e,u as ve}from"./index.c67f8be3.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{d as be,e as g,r as Me,c as he,aJ as p,A as $e,B as ye,aG as a,aF as t,u as U,aL as _,aM as v,aR as R,b0 as Ve,b5 as ke,bd as Ne,bk as je,bG as Ce,be as we,b4 as Te,bs as xe,aS as Se,b3 as Ue,bf as Re,aQ as qe,bg as Fe,bj as Be,aP as Ee,aX as Ae}from"./arco.a53b75be.js";import{u as ze}from"./loading.c387c5f5.js";import{q as De,g as Ie,c as Je,u as I}from"./enterprise.d3611326.js";import"./chart.da3854a0.js";import"./vue.0de19953.js";const Le={class:"container"},Oe={name:"EnterpriseManagement"},Pe=be(S($({},Oe),{setup(i){const o=()=>({name:"",status:-1,create_start_time:"",create_end_time:"",createdTime:[]}),s=g(""),{loading:J,setLoading:c}=ze(!0),{t:b}=ve(),q=g([]),F=g(),r=g(o()),j=g(!1),y=g(!1),C=g(),w={page:1,size:10},T=Me($({},w)),L=he(()=>[{label:b("enterpriseManagement.form.status.-1"),value:-1},{label:b("enterpriseManagement.form.status.0"),value:0},{label:b("enterpriseManagement.form.status.1"),value:1}]),M=async(e={page:1,size:10})=>{c(!0);try{const{data:n}=await De(e);q.value=n.list,T.page=e.page,T.total=n.total}catch{}finally{c(!1)}},O=()=>{console.log(r.value);const e=JSON.parse(JSON.stringify(r.value));e.create_start_time=e.createdTime[0],e.create_end_time=e.createdTime[1],M($($({},w),e))},P=e=>{M(S($({},w),{page:e}))};M();const G=()=>{r.value=o()},Q=async()=>{var e;(e=F.value)==null||e.resetFields(),c(!0);try{const{data:n}=await Ie();r.value.maxTeamNum=n.maxTeamNum,r.value.maxMemberNum=n.maxMemberNum}catch{}finally{c(!1)}C.value="add",y.value=!0},X=e=>{console.log(e)},H=e=>{console.log(e)},K=async({errors:e,values:n})=>{if(!e){c(!0);const k=JSON.parse(JSON.stringify(r.value));if(C.value==="add")try{await Je(k),R.success(b("enterpriseManagement.form.add.success")),M()}catch(u){s.value=u.message}finally{c(!1),y.value=!1}else try{await I(k),R.success(b("enterpriseManagement.form.edit.success")),M()}catch(u){s.value=u.message}finally{c(!1),y.value=!1}}},W=async e=>{j.value=!0;try{const{data:n}=await I({id:e.id});R.success(b("enterpriseManagement.form.edit.success")),M()}catch{}finally{j.value=!1}};return(e,n)=>{const k=p("Breadcrumb"),u=Ve,m=ke,h=Ne,Y=je,Z=Ce,x=we,B=Te,E=xe,ee=p("icon-search"),f=Se,ae=p("icon-refresh"),V=Ue,te=p("icon-plus"),d=Re,ne=p("icon-check"),le=p("icon-close"),re=qe,oe=p("icon-user-group"),se=p("icon-apps"),ie=Fe,me=Be,A=Ee,ue=Ae;return $e(),ye("div",Le,[a(k,{items:["menu.enterprise","menu.enterprise.enterpriseManagement"]},null,8,["items"]),a(me,{class:"general-card",title:e.$t("menu.enterprise.enterpriseManagement")},{default:t(()=>[a(x,{style:{"margin-bottom":"16px"}},{default:t(()=>[a(h,{flex:1},{default:t(()=>[a(B,{model:r.value,"label-col-props":{span:6},"wrapper-col-props":{span:18},"label-align":"left"},{default:t(()=>[a(x,{gutter:16},{default:t(()=>[a(h,{span:8},{default:t(()=>[a(m,{field:"name",label:e.$t("enterpriseManagement.form.name")},{default:t(()=>[a(u,{modelValue:r.value.name,"onUpdate:modelValue":n[0]||(n[0]=l=>r.value.name=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(h,{span:8},{default:t(()=>[a(m,{field:"status",label:e.$t("enterpriseManagement.form.status")},{default:t(()=>[a(Y,{modelValue:r.value.status,"onUpdate:modelValue":n[1]||(n[1]=l=>r.value.status=l),options:U(L),placeholder:e.$t("enterpriseManagement.form.selectDefault")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a(h,{span:8},{default:t(()=>[a(m,{field:"createdAt",label:e.$t("enterpriseManagement.form.createdAt")},{default:t(()=>[a(Z,{modelValue:r.value.createdTime,"onUpdate:modelValue":n[2]||(n[2]=l=>r.value.createdTime=l),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(E,{style:{height:"84px"},direction:"vertical"}),a(h,{flex:"86px",style:{"text-align":"right"}},{default:t(()=>[a(V,{direction:"vertical",size:18},{default:t(()=>[a(f,{type:"primary",onClick:O},{icon:t(()=>[a(ee)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.form.search")),1)]),_:1}),a(f,{onClick:G},{icon:t(()=>[a(ae)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(E,{style:{"margin-top":"0"}}),a(x,{style:{"margin-bottom":"16px"}},{default:t(()=>[a(h,{span:16},{default:t(()=>[a(V,null,{default:t(()=>[a(f,{type:"primary",onClick:Q},{icon:t(()=>[a(te)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.operation.create")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(ie,{"row-key":"id",loading:U(J),pagination:U(T),data:q.value,bordered:!1,onPageChange:P},{columns:t(()=>[a(d,{title:e.$t("enterpriseManagement.columns.id"),"data-index":"id"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.name"),"data-index":"name"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.status"),"data-index":"status"},{cell:t(({record:l})=>[a(V,null,{default:t(()=>[a(re,{modelValue:l.status,"onUpdate:modelValue":N=>l.status=N,loading:j.value,"checked-value":1,"unchecked-value":0,onChange:N=>W(l)},{"checked-icon":t(()=>[a(ne)]),"unchecked-icon":t(()=>[a(le)]),_:2},1032,["modelValue","onUpdate:modelValue","loading","onChange"])]),_:2},1024)]),_:1},8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.maxTeamNum"),"data-index":"maxTeamNum"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.teamNum"),"data-index":"teamNum"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.maxMemberNum"),"data-index":"maxMemberNum"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.createdAt"),"data-index":"createdAt"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.operations"),align:"center","data-index":"operations"},{cell:t(({record:l})=>[a(V,null,{default:t(()=>[a(f,{status:"success",size:"small",onClick:N=>X(l)},{icon:t(()=>[a(oe)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.columns.operations.team")),1)]),_:2},1032,["onClick"]),a(f,{status:"success",size:"small",onClick:N=>H(l)},{icon:t(()=>[a(se)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.columns.operations.product")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["title"])]),_:1},8,["loading","pagination","data"])]),_:1},8,["title"]),a(ue,{visible:y.value,"onUpdate:visible":n[10]||(n[10]=l=>y.value=l),width:"auto",title:C.value==="add"?e.$t("enterpriseManagement.form.title.add"):e.$t("enterpriseManagement.form.title.edit"),footer:!1},{default:t(()=>[a(B,{ref_key:"formRef",ref:F,model:r.value,style:{width:"600px"},onSubmit:K},{default:t(()=>[a(m,{field:"name",label:e.$t("enterpriseManagement.form.name"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(u,{modelValue:r.value.name,"onUpdate:modelValue":n[3]||(n[3]=l=>r.value.name=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,{field:"maxTeamNum",label:e.$t("enterpriseManagement.form.maxTeamNum"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(A,{modelValue:r.value.maxTeamNum,"onUpdate:modelValue":n[4]||(n[4]=l=>r.value.maxTeamNum=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,{field:"maxMemberNum",label:e.$t("enterpriseManagement.form.maxMemberNum"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(A,{modelValue:r.value.maxMemberNum,"onUpdate:modelValue":n[5]||(n[5]=l=>r.value.maxMemberNum=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,{field:"nickname",label:e.$t("enterpriseManagement.form.nickname"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(u,{modelValue:r.value.nickname,"onUpdate:modelValue":n[6]||(n[6]=l=>r.value.nickname=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,{field:"password",label:e.$t("enterpriseManagement.form.password"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(u,{modelValue:r.value.password,"onUpdate:modelValue":n[7]||(n[7]=l=>r.value.password=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,{field:"email",label:e.$t("enterpriseManagement.form.email"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(u,{modelValue:r.value.email,"onUpdate:modelValue":n[8]||(n[8]=l=>r.value.email=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,null,{default:t(()=>[a(V,null,{default:t(()=>[a(f,{type:"primary","html-type":"submit"},{default:t(()=>[_(v(e.$t("enterpriseManagement.button.submit")),1)]),_:1}),a(f,{type:"outline",onClick:n[9]||(n[9]=l=>e.$refs.formRef.resetFields())},{default:t(()=>[_(v(e.$t("enterpriseManagement.button.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])])}}}));var ca=_e(Pe,[["__scopeId","data-v-c5f948ec"]]);export{ca as default};
