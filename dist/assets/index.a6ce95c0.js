var de=Object.defineProperty,pe=Object.defineProperties;var ce=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var D=(m,s,i)=>s in m?de(m,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):m[s]=i,$=(m,s)=>{for(var i in s||(s={}))fe.call(s,i)&&D(m,i,s[i]);if(j)for(var i of j(s))ge.call(s,i)&&D(m,i,s[i]);return m},S=(m,s)=>pe(m,ce(s));import{d as _e,r as g,O as ve,$ as Me,Q as be,e as o,o as he,g as $e,f as a,w as t,u as E,i as _,t as v,R}from"./vendor.e6e9099f.js";import{u as ye}from"./loading.3e447ed2.js";import{q as Ve,g as ke,c as Ne,u as J}from"./enterprise.7a035e38.js";import{_ as we}from"./index.525cc014.js";const Ce={class:"container"},Te={name:"EnterpriseManagement"},Ue=_e(S($({},Te),{setup(m){const s=()=>({name:"",status:-1,create_start_time:"",create_end_time:"",createdTime:[]}),i=g(""),{loading:L,setLoading:c}=ye(!0),{t:M}=ve(),O=g([]),z=g(),r=g(s()),w=g(!1),y=g(!1),C=g(),T={page:1,size:10},U=Me($({},T)),I=be(()=>[{label:M("enterpriseManagement.form.status.-1"),value:-1},{label:M("enterpriseManagement.form.status.0"),value:0},{label:M("enterpriseManagement.form.status.1"),value:1}]),b=async(e={page:1,size:10})=>{c(!0);try{const{data:n}=await Ve(e);O.value=n.list,U.page=e.page,U.total=n.total}catch{}finally{c(!1)}},P=()=>{console.log(r.value);const e=JSON.parse(JSON.stringify(r.value));e.create_start_time=e.createdTime[0],e.create_end_time=e.createdTime[1],b($($({},T),e))},Q=e=>{b(S($({},T),{page:e}))};b();const G=()=>{r.value=s()},H=async()=>{var e;(e=z.value)==null||e.resetFields(),c(!0);try{const{data:n}=await ke();r.value.maxTeamNum=n.maxTeamNum,r.value.maxMemberNum=n.maxMemberNum}catch{}finally{c(!1)}C.value="add",y.value=!0},K=e=>{console.log(e)},W=e=>{console.log(e)},X=async({errors:e,values:n})=>{if(!e){c(!0);const k=JSON.parse(JSON.stringify(r.value));if(C.value==="add")try{await Ne(k),R.success(M("enterpriseManagement.form.add.success")),b()}catch(d){i.value=d.message}finally{c(!1),y.value=!1}else try{await J(k),R.success(M("enterpriseManagement.form.edit.success")),b()}catch(d){i.value=d.message}finally{c(!1),y.value=!1}}},Y=async e=>{w.value=!0;try{const{data:n}=await J({id:e.id});R.success(M("enterpriseManagement.form.edit.success")),b()}catch{}finally{w.value=!1}};return(e,n)=>{const k=o("Breadcrumb"),d=o("a-input"),u=o("a-form-item"),h=o("a-col"),Z=o("a-select"),x=o("a-range-picker"),q=o("a-row"),A=o("a-form"),B=o("a-divider"),ee=o("icon-search"),f=o("a-button"),ae=o("icon-refresh"),V=o("a-space"),te=o("icon-plus"),p=o("a-table-column"),ne=o("icon-check"),le=o("icon-close"),re=o("a-switch"),oe=o("icon-user-group"),se=o("icon-apps"),ie=o("a-table"),me=o("a-card"),F=o("a-input-number"),ue=o("a-modal");return he(),$e("div",Ce,[a(k,{items:["menu.enterprise","menu.enterprise.enterpriseManagement"]},null,8,["items"]),a(me,{class:"general-card",title:e.$t("menu.enterprise.enterpriseManagement")},{default:t(()=>[a(q,{style:{"margin-bottom":"16px"}},{default:t(()=>[a(h,{flex:1},{default:t(()=>[a(A,{model:r.value,"label-col-props":{span:6},"wrapper-col-props":{span:18},"label-align":"left"},{default:t(()=>[a(q,{gutter:16},{default:t(()=>[a(h,{span:8},{default:t(()=>[a(u,{field:"name",label:e.$t("enterpriseManagement.form.name")},{default:t(()=>[a(d,{modelValue:r.value.name,"onUpdate:modelValue":n[0]||(n[0]=l=>r.value.name=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(h,{span:8},{default:t(()=>[a(u,{field:"status",label:e.$t("enterpriseManagement.form.status")},{default:t(()=>[a(Z,{modelValue:r.value.status,"onUpdate:modelValue":n[1]||(n[1]=l=>r.value.status=l),options:E(I),placeholder:e.$t("enterpriseManagement.form.selectDefault")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a(h,{span:8},{default:t(()=>[a(u,{field:"createdAt",label:e.$t("enterpriseManagement.form.createdAt")},{default:t(()=>[a(x,{modelValue:r.value.createdTime,"onUpdate:modelValue":n[2]||(n[2]=l=>r.value.createdTime=l),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(B,{style:{height:"84px"},direction:"vertical"}),a(h,{flex:"86px",style:{"text-align":"right"}},{default:t(()=>[a(V,{direction:"vertical",size:18},{default:t(()=>[a(f,{type:"primary",onClick:P},{icon:t(()=>[a(ee)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.form.search")),1)]),_:1}),a(f,{onClick:G},{icon:t(()=>[a(ae)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{style:{"margin-top":"0"}}),a(q,{style:{"margin-bottom":"16px"}},{default:t(()=>[a(h,{span:16},{default:t(()=>[a(V,null,{default:t(()=>[a(f,{type:"primary",onClick:H},{icon:t(()=>[a(te)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.operation.create")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(ie,{"row-key":"id",loading:E(L),pagination:E(U),data:O.value,bordered:!1,onPageChange:Q},{columns:t(()=>[a(p,{title:e.$t("enterpriseManagement.columns.id"),"data-index":"id"},null,8,["title"]),a(p,{title:e.$t("enterpriseManagement.columns.name"),"data-index":"name"},null,8,["title"]),a(p,{title:e.$t("enterpriseManagement.columns.status"),"data-index":"status"},{cell:t(({record:l})=>[a(V,null,{default:t(()=>[a(re,{modelValue:l.status,"onUpdate:modelValue":N=>l.status=N,loading:w.value,"checked-value":1,"unchecked-value":0,onChange:N=>Y(l)},{"checked-icon":t(()=>[a(ne)]),"unchecked-icon":t(()=>[a(le)]),_:2},1032,["modelValue","onUpdate:modelValue","loading","onChange"])]),_:2},1024)]),_:1},8,["title"]),a(p,{title:e.$t("enterpriseManagement.columns.maxTeamNum"),"data-index":"maxTeamNum"},null,8,["title"]),a(p,{title:e.$t("enterpriseManagement.columns.teamNum"),"data-index":"teamNum"},null,8,["title"]),a(p,{title:e.$t("enterpriseManagement.columns.maxMemberNum"),"data-index":"maxMemberNum"},null,8,["title"]),a(p,{title:e.$t("enterpriseManagement.columns.createdAt"),"data-index":"createdAt"},null,8,["title"]),a(p,{title:e.$t("enterpriseManagement.columns.operations"),align:"center","data-index":"operations"},{cell:t(({record:l})=>[a(V,null,{default:t(()=>[a(f,{status:"success",size:"small",onClick:N=>K(l)},{icon:t(()=>[a(oe)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.columns.operations.team")),1)]),_:2},1032,["onClick"]),a(f,{status:"success",size:"small",onClick:N=>W(l)},{icon:t(()=>[a(se)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.columns.operations.product")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["title"])]),_:1},8,["loading","pagination","data"])]),_:1},8,["title"]),a(ue,{visible:y.value,"onUpdate:visible":n[10]||(n[10]=l=>y.value=l),width:"auto",title:C.value==="add"?e.$t("enterpriseManagement.form.title.add"):e.$t("enterpriseManagement.form.title.edit"),footer:!1},{default:t(()=>[a(A,{ref_key:"formRef",ref:z,model:r.value,style:{width:"600px"},onSubmit:X},{default:t(()=>[a(u,{field:"name",label:e.$t("enterpriseManagement.form.name"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(d,{modelValue:r.value.name,"onUpdate:modelValue":n[3]||(n[3]=l=>r.value.name=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(u,{field:"maxTeamNum",label:e.$t("enterpriseManagement.form.maxTeamNum"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(F,{modelValue:r.value.maxTeamNum,"onUpdate:modelValue":n[4]||(n[4]=l=>r.value.maxTeamNum=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(u,{field:"maxMemberNum",label:e.$t("enterpriseManagement.form.maxMemberNum"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(F,{modelValue:r.value.maxMemberNum,"onUpdate:modelValue":n[5]||(n[5]=l=>r.value.maxMemberNum=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(u,{field:"nickname",label:e.$t("enterpriseManagement.form.nickname"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(d,{modelValue:r.value.nickname,"onUpdate:modelValue":n[6]||(n[6]=l=>r.value.nickname=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(u,{field:"password",label:e.$t("enterpriseManagement.form.password"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(d,{modelValue:r.value.password,"onUpdate:modelValue":n[7]||(n[7]=l=>r.value.password=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(u,{field:"email",label:e.$t("enterpriseManagement.form.email"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(d,{modelValue:r.value.email,"onUpdate:modelValue":n[8]||(n[8]=l=>r.value.email=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(u,null,{default:t(()=>[a(V,null,{default:t(()=>[a(f,{type:"primary","html-type":"submit"},{default:t(()=>[_(v(e.$t("enterpriseManagement.button.submit")),1)]),_:1}),a(f,{type:"outline",onClick:n[9]||(n[9]=l=>e.$refs.formRef.resetFields())},{default:t(()=>[_(v(e.$t("enterpriseManagement.button.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])])}}}));var ze=we(Ue,[["__scopeId","data-v-ed105044"]]);export{ze as default};
