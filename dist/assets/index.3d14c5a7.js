var ye=Object.defineProperty,$e=Object.defineProperties;var we=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var H=(m,s,o)=>s in m?ye(m,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):m[s]=o,k=(m,s)=>{for(var o in s||(s={}))Ve.call(s,o)&&H(m,o,s[o]);if(X)for(var o of X(s))ke.call(s,o)&&H(m,o,s[o]);return m},I=(m,s)=>$e(m,we(s));import{_ as Ce,u as Ne}from"./index.6eb722a8.js";/* empty css               *//* empty css              *//* empty css              *//* empty css               *//* empty css               */import{u as Te,q as xe,g as Fe,a as Ee,c as Se,b as K}from"./enterprise.ad9f3d2e.js";import{u as je}from"./loading.28115bcb.js";/* empty css              *//* empty css               */import{d as Ue,e as p,r as De,c as qe,aJ as b,A as Re,B as Be,E as Ae,aG as e,aF as t,D as U,u as M,aL as h,aM as y,aR as P,br as Ie,bj as Pe,bs as ze,bt as Je,b0 as Le,b5 as Oe,bd as Ge,bk as Qe,bu as Xe,be as He,b4 as Ke,bv as We,aS as Ye,b3 as Ze,bf as ea,aQ as aa,bg as ta,aP as la,b6 as na,aX as ra}from"./arco.bb856b78.js";import"./chart.e89f81b2.js";import"./vue.e8f01861.js";const sa={class:"container"},oa={class:"space-unit"},ia={name:"EnterpriseManagement"},ma=Ue(I(k({},ia),{setup(m){const s=()=>({name:"",status:-1,create_start_time:"",create_end_time:"",createdTime:[]}),o=()=>({name:"",maxTeamNum:"",maxMemberNum:"",nickname:"",password:"",passwordConfirm:"",email:""}),{isDark:x}=Te(),$=p(""),{loading:W,setLoading:c}=je(!0),{t:g}=Ne(),z=p([]),C=p([]),u=p(s()),J=p(),r=p(o()),D=p(!1),N=p(!1),q=p(),F=p(!1),R={page:1,size:10},B=De(k({},R)),Y=qe(()=>[{label:g("enterpriseManagement.form.status.-1"),value:-1},{label:g("enterpriseManagement.form.status.0"),value:0},{label:g("enterpriseManagement.form.status.1"),value:1}]),Z=[{required:!0,message:g("enterpriseManagement.form.placeholder.input")},{validator:(a,l)=>new Promise(f=>{window.setTimeout(()=>{a!==r.value.password&&l(g("enterpriseManagement.form.password.confirm.errMsg")),f()},100)})}],w=async(a={page:1,size:10})=>{c(!0);try{const{data:l}=await xe(a);z.value=l.list,B.page=a.page,B.total=l.total}catch(l){$.value=l.message}finally{c(!1)}},ee=()=>{console.log(u.value);const a=JSON.parse(JSON.stringify(u.value));a.createdTime instanceof Array&&a.createdTime.length>0&&(a.create_start_time=a.createdTime[0],a.create_end_time=a.createdTime[1]),w(k(k({},R),a))},ae=a=>{w(I(k({},R),{page:a}))};w(),(async()=>{c(!0);try{const{data:a}=await Fe();C.value=a}catch(a){$.value=a.message}finally{c(!1)}})();const te=()=>{u.value=s()},le=async()=>{var a;(a=J.value)==null||a.resetFields(),c(!0);try{const{data:l}=await Ee();r.value.maxTeamNum=l.maxTeamNum,r.value.maxMemberNum=l.maxMemberNum}catch(l){$.value=l.message}finally{c(!1)}q.value="add",N.value=!0},ne=a=>{console.log(a)},re=a=>{console.log(a)},se=async({errors:a,values:l})=>{if(!a){c(!0),F.value=!0;const f=JSON.parse(JSON.stringify(r.value));if(q.value==="add")try{await Se(f),P.success(g("enterpriseManagement.form.add.success")),w()}catch(d){$.value=d.message}finally{c(!1),F.value=!1,N.value=!1}else try{await K(f),P.success(g("enterpriseManagement.form.edit.success")),w()}catch(d){$.value=d.message}finally{c(!1),F.value=!1,N.value=!1}}},oe=async a=>{D.value=!0;try{const{data:l}=await K({id:a.id});P.success(g("enterpriseManagement.form.edit.success")),w()}catch(l){$.value=l.message}finally{D.value=!1}};return(a,l)=>{const f=Ie,d=Pe,E=ze,ie=Je,S=Le,i=Oe,V=Ge,me=Qe,ue=Xe,A=He,L=Ke,O=We,de=b("icon-search"),_=Ye,pe=b("icon-refresh"),T=Ze,ce=b("icon-plus"),v=ea,fe=b("icon-check"),ge=b("icon-close"),ve=aa,_e=b("icon-user-group"),be=b("icon-apps"),Me=ta,G=la,Q=na,he=ra;return Re(),Be("div",sa,[Ae("div",oa,[e(d,{class:"general-card"},{default:t(()=>[e(ie,{cols:24,"col-gap":12,"row-gap":12},{default:t(()=>[e(E,{span:{xs:12,sm:12,md:12,lg:12,xl:6,xxl:6}},{default:t(()=>[e(d,{border:!1,style:U({background:M(x)?"linear-gradient(180deg, #284991 0%, #122B62 100%)":"linear-gradient(180deg, #f2f9fe 0%, #e6f4fe 100%)"})},{default:t(()=>[e(f,{title:a.$t("enterpriseManagement.card.total"),value:C.value.totalNum,"value-from":0,animation:"","show-group-separator":""},null,8,["title","value"])]),_:1},8,["style"])]),_:1}),e(E,{span:{xs:12,sm:12,md:12,lg:12,xl:6,xxl:6}},{default:t(()=>[e(d,{border:!1,style:U({background:M(x)?" linear-gradient(180deg, #3D492E 0%, #263827 100%)":"linear-gradient(180deg, #F5FEF2 0%, #E6FEEE 100%)"})},{default:t(()=>[e(f,{title:a.$t("enterpriseManagement.card.multiTeam"),value:C.value.multiTeamNum,"value-from":0,animation:"","show-group-separator":""},null,8,["title","value"])]),_:1},8,["style"])]),_:1}),e(E,{span:{xs:12,sm:12,md:12,lg:12,xl:6,xxl:6}},{default:t(()=>[e(d,{border:!1,style:U({background:M(x)?"linear-gradient(180deg, #294B94 0%, #0F275C 100%)":"linear-gradient(180deg, #f2f9fe 0%, #e6f4fe 100%)"})},{default:t(()=>[e(f,{title:a.$t("enterpriseManagement.card.singleTeam"),value:C.value.singleTeamNum,"value-from":0,animation:"","show-group-separator":""},null,8,["title","value"])]),_:1},8,["style"])]),_:1}),e(E,{span:{xs:12,sm:12,md:12,lg:12,xl:6,xxl:6}},{default:t(()=>[e(d,{border:!1,style:U({background:M(x)?"linear-gradient(180deg, #312565 0%, #201936 100%)":"linear-gradient(180deg, #F7F7FF 0%, #ECECFF 100%)"})},{default:t(()=>[e(f,{title:a.$t("enterpriseManagement.card.disabled"),value:C.value.disabledNum,"value-from":0,animation:"","show-group-separator":""},null,8,["title","value"])]),_:1},8,["style"])]),_:1})]),_:1})]),_:1})]),e(d,{class:"general-card",style:{"margin-top":"16px","padding-top":"16px"}},{default:t(()=>[e(A,{style:{"margin-bottom":"16px"}},{default:t(()=>[e(V,{flex:1},{default:t(()=>[e(L,{model:u.value,"label-col-props":{span:6},"wrapper-col-props":{span:18},"label-align":"left"},{default:t(()=>[e(A,{gutter:16},{default:t(()=>[e(V,{span:8},{default:t(()=>[e(i,{field:"name",label:a.$t("enterpriseManagement.form.name")},{default:t(()=>[e(S,{modelValue:u.value.name,"onUpdate:modelValue":l[0]||(l[0]=n=>u.value.name=n),placeholder:a.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(V,{span:8},{default:t(()=>[e(i,{field:"status",label:a.$t("enterpriseManagement.form.status")},{default:t(()=>[e(me,{modelValue:u.value.status,"onUpdate:modelValue":l[1]||(l[1]=n=>u.value.status=n),options:M(Y),placeholder:a.$t("enterpriseManagement.form.selectDefault")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),e(V,{span:8},{default:t(()=>[e(i,{field:"createdAt",label:a.$t("enterpriseManagement.form.createdAt")},{default:t(()=>[e(ue,{modelValue:u.value.createdTime,"onUpdate:modelValue":l[2]||(l[2]=n=>u.value.createdTime=n),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(O,{style:{height:"84px"},direction:"vertical"}),e(V,{flex:"86px",style:{"text-align":"right"}},{default:t(()=>[e(T,{direction:"vertical",size:18},{default:t(()=>[e(_,{type:"primary",onClick:ee},{icon:t(()=>[e(de)]),default:t(()=>[h(" "+y(a.$t("enterpriseManagement.form.search")),1)]),_:1}),e(_,{onClick:te},{icon:t(()=>[e(pe)]),default:t(()=>[h(" "+y(a.$t("enterpriseManagement.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(O,{style:{"margin-top":"0"}}),e(A,{style:{"margin-bottom":"16px"}},{default:t(()=>[e(V,{span:16},{default:t(()=>[e(T,null,{default:t(()=>[e(_,{type:"primary",onClick:le},{icon:t(()=>[e(ce)]),default:t(()=>[h(" "+y(a.$t("enterpriseManagement.operation.create")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(Me,{"row-key":"id",loading:M(W),pagination:M(B),data:z.value,bordered:!1,onPageChange:ae},{columns:t(()=>[e(v,{title:a.$t("enterpriseManagement.columns.id"),"data-index":"id"},null,8,["title"]),e(v,{title:a.$t("enterpriseManagement.columns.name"),"data-index":"name"},null,8,["title"]),e(v,{title:a.$t("enterpriseManagement.columns.maxTeamNum"),"data-index":"maxTeamNum"},null,8,["title"]),e(v,{title:a.$t("enterpriseManagement.columns.teamNum"),"data-index":"teamNum"},null,8,["title"]),e(v,{title:a.$t("enterpriseManagement.columns.maxMemberNum"),"data-index":"maxMemberNum"},null,8,["title"]),e(v,{title:a.$t("enterpriseManagement.columns.createdAt"),"data-index":"createdAt"},null,8,["title"]),e(v,{title:a.$t("enterpriseManagement.columns.status"),"data-index":"status"},{cell:t(({record:n})=>[e(T,null,{default:t(()=>[e(ve,{modelValue:n.status,"onUpdate:modelValue":j=>n.status=j,loading:D.value,"checked-value":1,"unchecked-value":0,onChange:j=>oe(n)},{"checked-icon":t(()=>[e(fe)]),"unchecked-icon":t(()=>[e(ge)]),_:2},1032,["modelValue","onUpdate:modelValue","loading","onChange"])]),_:2},1024)]),_:1},8,["title"]),e(v,{title:a.$t("enterpriseManagement.columns.operations"),align:"center","data-index":"operations"},{cell:t(({record:n})=>[e(T,null,{default:t(()=>[e(_,{status:"success",size:"small",onClick:j=>ne(n)},{icon:t(()=>[e(_e)]),default:t(()=>[h(" "+y(a.$t("enterpriseManagement.columns.operations.team")),1)]),_:2},1032,["onClick"]),e(_,{status:"success",size:"small",onClick:j=>re(n)},{icon:t(()=>[e(be)]),default:t(()=>[h(" "+y(a.$t("enterpriseManagement.columns.operations.product")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["title"])]),_:1},8,["loading","pagination","data"])]),_:1}),e(he,{visible:N.value,"onUpdate:visible":l[11]||(l[11]=n=>N.value=n),width:"auto",title:q.value==="add"?a.$t("enterpriseManagement.form.title.add"):a.$t("enterpriseManagement.form.title.edit"),footer:!1},{default:t(()=>[e(L,{ref_key:"formRef",ref:J,model:r.value,style:{width:"600px"},onSubmit:se},{default:t(()=>[e(i,{field:"name",label:a.$t("enterpriseManagement.form.name"),rules:[{required:!0,message:a.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[e(S,{modelValue:r.value.name,"onUpdate:modelValue":l[3]||(l[3]=n=>r.value.name=n),placeholder:a.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(i,{field:"maxTeamNum",label:a.$t("enterpriseManagement.form.maxTeamNum"),rules:[{required:!0,message:a.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[e(G,{modelValue:r.value.maxTeamNum,"onUpdate:modelValue":l[4]||(l[4]=n=>r.value.maxTeamNum=n),placeholder:a.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(i,{field:"maxMemberNum",label:a.$t("enterpriseManagement.form.maxMemberNum"),rules:[{required:!0,message:a.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[e(G,{modelValue:r.value.maxMemberNum,"onUpdate:modelValue":l[5]||(l[5]=n=>r.value.maxMemberNum=n),placeholder:a.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(i,{field:"nickname",label:a.$t("enterpriseManagement.form.nickname"),rules:[{required:!0,message:a.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[e(S,{modelValue:r.value.nickname,"onUpdate:modelValue":l[6]||(l[6]=n=>r.value.nickname=n),placeholder:a.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(i,{field:"password",label:a.$t("enterpriseManagement.form.password"),rules:[{required:!0,message:a.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[e(Q,{modelValue:r.value.password,"onUpdate:modelValue":l[7]||(l[7]=n=>r.value.password=n),placeholder:a.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(i,{field:"passwordConfirm",label:a.$t("enterpriseManagement.form.password.confirm"),rules:Z},{default:t(()=>[e(Q,{modelValue:r.value.passwordConfirm,"onUpdate:modelValue":l[8]||(l[8]=n=>r.value.passwordConfirm=n),placeholder:a.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(i,{field:"email",label:a.$t("enterpriseManagement.form.email"),rules:[{required:!0,message:a.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[e(S,{modelValue:r.value.email,"onUpdate:modelValue":l[9]||(l[9]=n=>r.value.email=n),placeholder:a.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(i,null,{default:t(()=>[e(T,null,{default:t(()=>[e(_,{loading:F.value,type:"primary","html-type":"submit"},{default:t(()=>[h(y(a.$t("enterpriseManagement.button.submit")),1)]),_:1},8,["loading"]),e(_,{type:"outline",onClick:l[10]||(l[10]=n=>a.$refs.formRef.resetFields())},{default:t(()=>[h(y(a.$t("enterpriseManagement.button.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])])}}}));var ka=Ce(ma,[["__scopeId","data-v-e3038730"]]);export{ka as default};
