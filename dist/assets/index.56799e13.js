var pe=Object.defineProperty,ce=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var I=(i,o,s)=>o in i?pe(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,$=(i,o)=>{for(var s in o||(o={}))ge.call(o,s)&&I(i,s,o[s]);if(D)for(var s of D(o))_e.call(o,s)&&I(i,s,o[s]);return i},U=(i,o)=>ce(i,fe(o));import{_ as ve,u as be}from"./index.66d117c3.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{d as Me,e as p,r as he,c as $e,aJ as c,A as ye,B as Ve,aG as a,aF as t,u as R,aL as _,aM as v,aR as q,b0 as ke,b5 as Ne,bd as je,bk as Ce,bG as we,be as Te,b4 as xe,bs as Se,aS as Ue,b3 as Re,bf as qe,aQ as Fe,bg as Be,bj as Ee,aP as Ae,aX as ze}from"./arco.a53b75be.js";import{u as De}from"./loading.c387c5f5.js";import{q as Ie,g as Je,c as Le,u as J}from"./enterprise.37fd9405.js";import"./chart.da3854a0.js";import"./vue.0de19953.js";const Oe={class:"container"},Pe={name:"EnterpriseManagement"},Ge=Me(U($({},Pe),{setup(i){const o=()=>({name:"",status:-1,create_start_time:"",create_end_time:"",createdTime:[]}),s=p(""),{loading:L,setLoading:f}=De(!0),{t:b}=be(),F=p([]),B=p(),r=p(o()),C=p(!1),y=p(!1),w=p(),k=p(!1),T={page:1,size:10},x=he($({},T)),O=$e(()=>[{label:b("enterpriseManagement.form.status.-1"),value:-1},{label:b("enterpriseManagement.form.status.0"),value:0},{label:b("enterpriseManagement.form.status.1"),value:1}]),M=async(e={page:1,size:10})=>{f(!0);try{const{data:n}=await Ie(e);F.value=n.list,x.page=e.page,x.total=n.total}catch{}finally{f(!1)}},P=()=>{console.log(r.value);const e=JSON.parse(JSON.stringify(r.value));e.create_start_time=e.createdTime[0],e.create_end_time=e.createdTime[1],M($($({},T),e))},G=e=>{M(U($({},T),{page:e}))};M();const Q=()=>{r.value=o()},X=async()=>{var e;(e=B.value)==null||e.resetFields(),f(!0);try{const{data:n}=await Je();r.value.maxTeamNum=n.maxTeamNum,r.value.maxMemberNum=n.maxMemberNum}catch{}finally{f(!1)}w.value="add",y.value=!0},H=e=>{console.log(e)},K=e=>{console.log(e)},W=async({errors:e,values:n})=>{if(!e){f(!0),k.value=!0;const N=JSON.parse(JSON.stringify(r.value));if(w.value==="add")try{await Le(N),q.success(b("enterpriseManagement.form.add.success")),M()}catch(u){s.value=u.message}finally{f(!1),k.value=!1,y.value=!1}else try{await J(N),q.success(b("enterpriseManagement.form.edit.success")),M()}catch(u){s.value=u.message}finally{f(!1),k.value=!1,y.value=!1}}},Y=async e=>{C.value=!0;try{const{data:n}=await J({id:e.id});q.success(b("enterpriseManagement.form.edit.success")),M()}catch{}finally{C.value=!1}};return(e,n)=>{const N=c("Breadcrumb"),u=ke,m=Ne,h=je,Z=Ce,ee=we,S=Te,E=xe,A=Se,ae=c("icon-search"),g=Ue,te=c("icon-refresh"),V=Re,ne=c("icon-plus"),d=qe,le=c("icon-check"),re=c("icon-close"),oe=Fe,se=c("icon-user-group"),ie=c("icon-apps"),me=Be,ue=Ee,z=Ae,de=ze;return ye(),Ve("div",Oe,[a(N,{items:["menu.enterprise","menu.enterprise.enterpriseManagement"]},null,8,["items"]),a(ue,{class:"general-card",title:e.$t("menu.enterprise.enterpriseManagement")},{default:t(()=>[a(S,{style:{"margin-bottom":"16px"}},{default:t(()=>[a(h,{flex:1},{default:t(()=>[a(E,{model:r.value,"label-col-props":{span:6},"wrapper-col-props":{span:18},"label-align":"left"},{default:t(()=>[a(S,{gutter:16},{default:t(()=>[a(h,{span:8},{default:t(()=>[a(m,{field:"name",label:e.$t("enterpriseManagement.form.name")},{default:t(()=>[a(u,{modelValue:r.value.name,"onUpdate:modelValue":n[0]||(n[0]=l=>r.value.name=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(h,{span:8},{default:t(()=>[a(m,{field:"status",label:e.$t("enterpriseManagement.form.status")},{default:t(()=>[a(Z,{modelValue:r.value.status,"onUpdate:modelValue":n[1]||(n[1]=l=>r.value.status=l),options:R(O),placeholder:e.$t("enterpriseManagement.form.selectDefault")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a(h,{span:8},{default:t(()=>[a(m,{field:"createdAt",label:e.$t("enterpriseManagement.form.createdAt")},{default:t(()=>[a(ee,{modelValue:r.value.createdTime,"onUpdate:modelValue":n[2]||(n[2]=l=>r.value.createdTime=l),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(A,{style:{height:"84px"},direction:"vertical"}),a(h,{flex:"86px",style:{"text-align":"right"}},{default:t(()=>[a(V,{direction:"vertical",size:18},{default:t(()=>[a(g,{type:"primary",onClick:P},{icon:t(()=>[a(ae)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.form.search")),1)]),_:1}),a(g,{onClick:Q},{icon:t(()=>[a(te)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(A,{style:{"margin-top":"0"}}),a(S,{style:{"margin-bottom":"16px"}},{default:t(()=>[a(h,{span:16},{default:t(()=>[a(V,null,{default:t(()=>[a(g,{type:"primary",onClick:X},{icon:t(()=>[a(ne)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.operation.create")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(me,{"row-key":"id",loading:R(L),pagination:R(x),data:F.value,bordered:!1,onPageChange:G},{columns:t(()=>[a(d,{title:e.$t("enterpriseManagement.columns.id"),"data-index":"id"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.name"),"data-index":"name"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.status"),"data-index":"status"},{cell:t(({record:l})=>[a(V,null,{default:t(()=>[a(oe,{modelValue:l.status,"onUpdate:modelValue":j=>l.status=j,loading:C.value,"checked-value":1,"unchecked-value":0,onChange:j=>Y(l)},{"checked-icon":t(()=>[a(le)]),"unchecked-icon":t(()=>[a(re)]),_:2},1032,["modelValue","onUpdate:modelValue","loading","onChange"])]),_:2},1024)]),_:1},8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.maxTeamNum"),"data-index":"maxTeamNum"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.teamNum"),"data-index":"teamNum"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.maxMemberNum"),"data-index":"maxMemberNum"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.createdAt"),"data-index":"createdAt"},null,8,["title"]),a(d,{title:e.$t("enterpriseManagement.columns.operations"),align:"center","data-index":"operations"},{cell:t(({record:l})=>[a(V,null,{default:t(()=>[a(g,{status:"success",size:"small",onClick:j=>H(l)},{icon:t(()=>[a(se)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.columns.operations.team")),1)]),_:2},1032,["onClick"]),a(g,{status:"success",size:"small",onClick:j=>K(l)},{icon:t(()=>[a(ie)]),default:t(()=>[_(" "+v(e.$t("enterpriseManagement.columns.operations.product")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["title"])]),_:1},8,["loading","pagination","data"])]),_:1},8,["title"]),a(de,{visible:y.value,"onUpdate:visible":n[10]||(n[10]=l=>y.value=l),width:"auto",title:w.value==="add"?e.$t("enterpriseManagement.form.title.add"):e.$t("enterpriseManagement.form.title.edit"),footer:!1},{default:t(()=>[a(E,{ref_key:"formRef",ref:B,model:r.value,style:{width:"600px"},onSubmit:W},{default:t(()=>[a(m,{field:"name",label:e.$t("enterpriseManagement.form.name"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(u,{modelValue:r.value.name,"onUpdate:modelValue":n[3]||(n[3]=l=>r.value.name=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,{field:"maxTeamNum",label:e.$t("enterpriseManagement.form.maxTeamNum"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(z,{modelValue:r.value.maxTeamNum,"onUpdate:modelValue":n[4]||(n[4]=l=>r.value.maxTeamNum=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,{field:"maxMemberNum",label:e.$t("enterpriseManagement.form.maxMemberNum"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(z,{modelValue:r.value.maxMemberNum,"onUpdate:modelValue":n[5]||(n[5]=l=>r.value.maxMemberNum=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,{field:"nickname",label:e.$t("enterpriseManagement.form.nickname"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(u,{modelValue:r.value.nickname,"onUpdate:modelValue":n[6]||(n[6]=l=>r.value.nickname=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,{field:"password",label:e.$t("enterpriseManagement.form.password"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(u,{modelValue:r.value.password,"onUpdate:modelValue":n[7]||(n[7]=l=>r.value.password=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,{field:"email",label:e.$t("enterpriseManagement.form.email"),rules:[{required:!0,message:e.$t("enterpriseManagement.form.placeholder.input")}],"validate-trigger":["change","input"]},{default:t(()=>[a(u,{modelValue:r.value.email,"onUpdate:modelValue":n[8]||(n[8]=l=>r.value.email=l),placeholder:e.$t("enterpriseManagement.form.placeholder.input")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(m,null,{default:t(()=>[a(V,null,{default:t(()=>[a(g,{loading:k.value,type:"primary","html-type":"submit"},{default:t(()=>[_(v(e.$t("enterpriseManagement.button.submit")),1)]),_:1},8,["loading"]),a(g,{type:"outline",onClick:n[9]||(n[9]=l=>e.$refs.formRef.resetFields())},{default:t(()=>[_(v(e.$t("enterpriseManagement.button.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])])}}}));var fa=ve(Ge,[["__scopeId","data-v-464f8471"]]);export{fa as default};
