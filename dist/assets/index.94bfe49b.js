var L=Object.defineProperty,A=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var x=(r,a,t)=>a in r?L(r,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[a]=t,C=(r,a)=>{for(var t in a||(a={}))P.call(a,t)&&x(r,t,a[t]);if(V)for(var t of V(a))R.call(a,t)&&x(r,t,a[t]);return r},U=(r,a)=>A(r,N(a));import{_ as I,a as T,u as z,cS as J,cT as M}from"./index.c67f8be3.js";/* empty css                *//* empty css               */import{d as w,e as y,aJ as q,A as h,aC as B,aF as s,aG as e,B as D,aD as E,u as O,aL as j,aM as k,bt as W,bL as G,bF as H,b3 as F,bj as K,aR as Q,b0 as X,b5 as Y,aS as Z,b4 as ee,bd as ae,be as te,bh as oe,bi as se}from"./arco.a53b75be.js";/* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css                *//* empty css              *//* empty css                */import{u as le}from"./user-center.3b92fc28.js";/* empty css               */import{u as re}from"./loading.c387c5f5.js";import"./chart.da3854a0.js";import"./vue.0de19953.js";const ne=["src"],ie=w({setup(r){const a=T(),t={uid:"-2",name:"avatar.png",url:a.avatar},g=[{label:"userSetting.label.username",value:a.username},{label:"userSetting.label.nickname",value:a.nickname},{label:"userSetting.label.accountId",value:a.id},{label:"userSetting.label.phone",value:a.mobile},{label:"userSetting.label.email",value:a.email}],u=y([t]),p=(c,_)=>{u.value=[_]},v=c=>{const _=new AbortController;return async function(){const{onProgress:l,onError:d,onSuccess:n,fileItem:f,name:S="file"}=c;l(20);const b=new FormData;b.append(S,f.file);const i=m=>{let $;m.total>0&&($=m.loaded/m.total*100),l(parseInt(String($),10),m)};try{const m=await le(b,{controller:_,onUploadProgress:i});n(m)}catch(m){d(m)}}(),{abort(){_.abort()}}};return(c,_)=>{const o=q("icon-camera"),l=W,d=G,n=H,f=F,S=K;return h(),B(S,{bordered:!1},{default:s(()=>[e(f,{size:54},{default:s(()=>[e(d,{"custom-request":v,"list-type":"picture-card","file-list":u.value,"show-upload-button":!0,"show-file-list":!1,onChange:p},{"upload-button":s(()=>[e(l,{size:100,class:"info-avatar"},{"trigger-icon":s(()=>[e(o)]),default:s(()=>[u.value.length?(h(),D("img",{key:0,src:u.value[0].url},null,8,ne)):E("",!0)]),_:1})]),_:1},8,["file-list"]),e(n,{data:O(g),column:2,align:"right",layout:"inline-horizontal","label-style":{width:"140px",fontWeight:"normal",color:"rgb(var(--gray-8))"},"value-style":{width:"200px",paddingLeft:"8px",textAlign:"left"}},{label:s(({label:b})=>[j(k(c.$t(b))+" :",1)]),_:1},8,["data","label-style"])]),_:1})]),_:1})}}});var ue=I(ie,[["__scopeId","data-v-553bfb1f"]]);const ce=w({setup(r){const a=y(),t=y({nickname:"",password:"",mobile:"",email:""}),g=y(""),{loading:u,setLoading:p}=re(!0),{t:v}=z(),c=async()=>{p(!0);const o=JSON.parse(JSON.stringify(t.value));try{await J(o),Q.success(v("userSetting.form.edit.success"))}catch(l){g.value=l.message}finally{await M(),p(!1)}},_=async()=>{var o;await((o=a.value)==null?void 0:o.resetFields())};return(o,l)=>{const d=X,n=Y,f=Z,S=F,b=ee;return h(),B(b,{ref_key:"formRef",ref:a,model:t.value,class:"form","label-col-props":{span:8},"wrapper-col-props":{span:16}},{default:s(()=>[e(n,{field:"nickname",label:o.$t("userSetting.basicInfo.form.label.nickname"),rules:[{required:!0,message:o.$t("userSetting.form.error.nickname.required")}]},{default:s(()=>[e(d,{modelValue:t.value.nickname,"onUpdate:modelValue":l[0]||(l[0]=i=>t.value.nickname=i),placeholder:o.$t("userSetting.basicInfo.placeholder.nickname")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"password",label:o.$t("userSetting.basicInfo.form.label.password")},{default:s(()=>[e(d,{modelValue:t.value.password,"onUpdate:modelValue":l[1]||(l[1]=i=>t.value.password=i),placeholder:o.$t("userSetting.basicInfo.placeholder.password")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(n,{field:"mobile",label:o.$t("userSetting.basicInfo.form.label.mobile"),rules:[{required:!0,message:o.$t("userSetting.form.error.mobile.required")}]},{default:s(()=>[e(d,{modelValue:t.value.mobile,"onUpdate:modelValue":l[2]||(l[2]=i=>t.value.mobile=i),placeholder:o.$t("userSetting.basicInfo.placeholder.mobile")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"email",label:o.$t("userSetting.basicInfo.form.label.email"),rules:[{required:!0,message:o.$t("userSetting.form.error.email.required")}]},{default:s(()=>[e(d,{modelValue:t.value.email,"onUpdate:modelValue":l[3]||(l[3]=i=>t.value.email=i),placeholder:o.$t("userSetting.basicInfo.placeholder.email")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,null,{default:s(()=>[e(S,null,{default:s(()=>[e(f,{type:"primary",onClick:c},{default:s(()=>[j(k(o.$t("userSetting.save")),1)]),_:1}),e(f,{type:"secondary",onClick:_},{default:s(()=>[j(k(o.$t("userSetting.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});var de=I(ce,[["__scopeId","data-v-5fbce1bc"]]);const me={class:"container"},pe={name:"Setting"},_e=w(U(C({},pe),{setup(r){return(a,t)=>{const g=q("Breadcrumb"),u=ae,p=te,v=oe,c=se;return h(),D("div",me,[e(g,{items:["menu.user","menu.user.setting"]},null,8,["items"]),e(p,{style:{"margin-bottom":"16px"}},{default:s(()=>[e(u,{span:24},{default:s(()=>[e(ue)]),_:1})]),_:1}),e(p,{class:"wrapper"},{default:s(()=>[e(u,{span:24},{default:s(()=>[e(c,{"default-active-key":"1",type:"rounded"},{default:s(()=>[e(v,{key:"1",title:a.$t("userSetting.tab.basicInformation")},{default:s(()=>[e(de)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})])}}}));var De=I(_e,[["__scopeId","data-v-2d40b30a"]]);export{De as default};
